<!DOCTYPE html>
{% load static %}
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script-->
        <!--script src="https://use.fontawesome.com/8e2a5cc178.js"></script-->
        <!--link rel="preconnect" href="https://fonts.gstatic.com"-->
        
        <!-- Tabel Hader alanı çereceler ve fontları çalışıyor-->
        <link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet">
        <!--link rel="stylesheet" type="text/css" href="extensions/filter-control/bootstrap-table-filter-control.css"-->
        <!--script src="extensions/filter-control/bootstrap-table-filter-control.js"></script-->
        <!--script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script-->
        <!--script src="https://unpkg.com/bootstrap-table@1.19.1/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script-->

        <!-- Bootstrap icon-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        
        <!-- Navbar text font-->
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
        <!--link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" /-->
        
        <!-- Navbar vertikal menü-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        
        <!-- Table fonksiyonları-->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> 
        
        <!-- Bootstrap colon manü-->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        
        <!-- Navbar dropdown menü-->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        <!--link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet"-->
        <!--script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script-->
        
        <!-- SAyfaya özel CSS dosyası-->
        <link rel="stylesheet" href="{% static 'css/envanter_listesi.css' %}">
        <!--link rel="stylesheet" href="{% static 'css/loader.css' %}"-->
        <title>Envanter Listesi | ScoR</title>
    </head>
<body>

<!-- navbarın arkasında renk tonu degisecek kısım -->
<div class="bg-blue container-fluid"></div>
<div class="bg-green container-fluid d-none"></div>
<div class="bg-yellow container-fluid d-none"></div>
<!-- navbar baslangıc-->
{% include 'base.html' %}
<!-- navbar bitis-->
 
<div class="row p-row">
    <div class="box ml-auto mt-2">
        <div class="row">
            <div class="alll mr-auto mx-5 mt-2"></div>
            <div class="all-choose mx-4 ml-auto ">
                <div class="row">
                    <div class="choose  mt-1"></div>
                    <div class="all ml-auto ">
                        <div class="row">
                            <form action="" method="post">
                            {% csrf_token %}
                                <input class="rapor-work-input ml-3" placeholder="saha no/id giriniz" name="saha_no">
                                <button type="submit" class="rapor-work"><i class="fa-solid fa-sliders"></i> Saha Envanter</button>
                            </form>
                                <!--input class="rapor-work-input ml-3" placeholder="saha no giriniz"><button type="submit" class="rapor-work"><i class="fa-solid fa-sliders"></i> Saha Envanter Getir </button-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
  
<div class="row">
    <div class="col mx-5">
        <button id="exportButton"><img src="https://cdn.iconscout.com/icon/free/png-256/microsoft-excel-2081997-1756310.png" style="width: 30px;"> Excel</button>
        <!--<button id="exportButtonn" class="btn btn-lg btn-danger clearfix"><span class="fa fa-file-pdf-o"></span> Export to PDF</button -->
    </div>
</div>
<div class="row mt-5">
    <div class="container-fluid fh">
        <div class="gd mt-4">
            <table
                id="table"
                data-toolbar="#toolbar"
                data-show-refresh="true"
                data-show-toggle="true"
                data-show-fullscreen="true"
                data-show-columns="true"
                data-show-columns-toggle-all="true"
                data-detail-view="true"
                data-show-export="true"              
                data-click-to-select="true"
                data-detail-formatter="detailFormatter"
                data-minimum-count-columns="1"
                data-show-pagination-switch="true"
                data-pagination="true"
                data-page-list="[10, 25, 50, 100, all]"
                data-show-footer="true"
                data-filter-control="true"    
                data-response-handler="responseHandler">
                <thead>
                    <tr>
                        <th data-field="sc" data-sortable="true" data-filter-control="input">Ana Yer Tipi</th>
                        <th data-field="pk" data-sortable="true" data-filter-control="input">Saha Tipi</th>
                        <th data-field="pt" data-sortable="true" data-filter-control="input">Saha No</th>
                        <th data-field="mr" data-sortable="true" data-filter-control="input">Saha Kodu</th>
                        <th data-field="sç" data-sortable="true" data-filter-control="input">Seri No</th>
                        <th data-field="sf" data-sortable="true" data-filter-control="input">Parca Kodu</th>
                        <th data-field="ta" data-sortable="true" data-filter-control="input">Parca Tanımı</th>
                        <th data-field="k"  data-sortable="true" data-filter-control="input">Miktar</th>
                        <th data-field="an" data-sortable="true" data-filter-control="input">Üst Ekipman</th>
                        <th data-field="tt" data-sortable="true" data-filter-control="input">Teslim Tarihi</th>
                        <th data-field="mt" data-sortable="true" data-filter-control="input">Montaj Tarihi</th>
                        <th data-field="dm" data-sortable="true" data-filter-control="input">Departman</th>
                    </tr>
                </thead>
                <tbody>
                    {% for envanter in envanterler %}
                    <tr>
                        <th class="th"> {{envanter.ana_yer_tipi}} </th>     
                        <td class="th"> {{envanter.saha_tipi}} </td>   
                        <td class="th">{{envanter.saha_no}}</td>     
                        <th class="th"> {{envanter.saha_kodu}} </th>         
                        <th class="th"> {{envanter.seri_no}} </th>      
                        <th class="th"> {{envanter.parca_kodu}} </th>       
                        <th class="th"> {{envanter.parca_tanimi}} </th>      
                        <th class="th"> {{envanter.quantity}} </th>     
                        <th class="th"> {{envanter.ust_ekipman}} </th>      
                        <th class="th"> {{envanter.teslim_tarihi}} </th>      
                        <th class="th"> {{envanter.sahaya_kurulum_tarihi}} </th>      
                        <th class="th"> {{envanter.department}} </th>      
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
     
    <!--link rel="stylesheet" type="text/css" href="http://www.shieldui.com/shared/components/latest/css/light/all.min.css" /-->
    <!-- Dowload için çaçışıyorlar -->
    <script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"></script>
    <script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/jszip.min.js"></script>
    <!-- pdf buton -->
    <!--script type="text/javascript">
    jQuery(function ($) {
        $("#exportButtonn").click(function () {
            // parse the HTML table element having an id=exportTable
            var dataSource = shield.DataSource.create({
                data: "#table",
                schema: {
                    type: "table",
                    fields: {
sahano: { type: String },
sahaid: { type: String },
sahatipi: { type: String },
serino: { type: String },
parçakodu: { type: String },
parçatanımı: { type: String },
tarihi: { type: String },
bölge: { type: String },
adetmiktar: { type: String },
sorguno: { type: String },
üstekipman: { type: String }
                    }
                }
            });

            // when parsing is done, export the data to PDF
            dataSource.read().then(function (data) {
                var pdf = new shield.exp.PDFDocument({
                    author: "PrepBootstrap",
                    created: new Date()
                });

                pdf.addPage("a4", "portrait");

                pdf.table(
                    50,
                    50,
                    data,
                    [
{ field: "SahaNo", title: "SahaNo", width: 50 },
{ field: "Sahaİd", title: "Sahaİd", width: 75 },
{ field: "SahaTipi", title: "SahaTipi", width: 120 },
{ field: "SeriNo", title: "SeriNo", width: 75 },
{ field: "ParçaKodu", title: "ParçaKodu", width: 75 },
{ field: "ParçaTanımı", title: "ParçaTanımı", width: 75 },
{ field: "Tarihi", title: "Tarihi", width: 75 },
{ field: "Bölge", title: "Bölge", width: 75 },
{ field: "AdetMiktar", title: "AdetMiktar", width: 75 },
{ field: "SorguNo", title: "SorguNo", width: 75 },
{ field: "ÜstEkipman", title: "ÜstEkipman", width: 75 }
                    ],
                    {
                        margins: {
                            top: 50,
                            left: 50
                        }
                    }
                );

                pdf.saveAs({
                    fileName: "PrepBootstrapPDF"
                });
            });
        });
    });
    </script-->

    <!-- you need to include the shieldui css and js assets in order for the components to work -->
    <!--link rel="stylesheet" type="text/css" href="http://www.shieldui.com/shared/components/latest/css/light/all.min.css" /-->
    <!--script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"></script-->
    <!--script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/jszip.min.js"></script-->      
    
    <!-- excel buton aksiyon -->
    <script type="text/javascript">
    jQuery(function ($) {
        $("#exportButton").click(function () {
            // parse the HTML table element having an id=exportTable
            var dataSource = shield.DataSource.create({
                data: "#table",
                schema: {
                    type: "table",
                    fields: {
    SahaNo: { type: String },
    Sahaİd: { type: String },
    SahaTipi: { type: String },
    SeriNo: { type: String },
    ParçaKodu: { type: String },
    ParçaTanımı: { type: String },
    Tarihi: { type: String },
    Bölge: { type: String },
    AdetMiktar: { type: String },
    SorguNo: { type: String },
    ÜstEkipman: { type: String }
                    }
                }
            });

            // when parsing is done, export the data to Excel
            dataSource.read().then(function (data) {
                new shield.exp.OOXMLWorkbook({
                    author: "PrepBootstrap",
                    worksheets: [
                        {
                            name: "PrepBootstrap Table",
                            rows: [
                                {
                                    cells: [
                                        {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "SahaNo"
                                        },
                {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: " Sahaİd"
                                        },
                {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "SahaTipi"
                                        },
                {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "SeriNo"
                                        },
                {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "ParçaKodu"
                                        },
                {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "ParçaTanımı"
                                        },
                {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "Tarihi"
                                        },
                {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "Bölge"
                                        },
                                        {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "AdetMiktar"
                                        },
                                        {
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "SorguNo"
                                        },
                {
                
                                            style: {
                                                bold: true
                                            },
                                            type: String,
                                            value: "ÜstEkipman"
                                        }
                                        
                                        
                                    
                                    ]
                                }
                            ].concat($.map(data, function(item) {
                                return {
                                    cells: [
                { type: String, value: item.SahaNo },
                { type: String, value: item.Sahaİd },
                { type: String, value: item.SahaTipi },
                { type: String, value: item.SeriNo },
                { type: String, value: item.ParçaKodu },
                { type: String, value: item.ParçaTanımı },
                { type: String, value: item.Tarihi },
                { type: String, value: item.Bölge },
                { type: String, value: item.AdetMiktar },
                { type: String, value: item.SorguNo },
                { type: String, value: item.ÜstEkipman }
                                    ]
                                };
                            }))
                        }
                    ]
                }).saveAs({
                    fileName: "PrepBootstrapExcel"
                });
            });
        });
    });
    </script>
            
    <!-- Export butonu için kullanılıyor-->
            <style> 
                #exportButton {
            
                    position: absolute;
                    margin-top: 8px;
                    border: none;
                    margin-left: 18px;
                    border-radius: 5px;
                    background: rgb(53, 190, 34);
                    color: white;
                    padding-left: 20px;
                    padding-right: 20px;
                    height: 42px;
                    padding-top: 7px;
                    padding-bottom: 7px;
                    font-size: 19px;
                    margin-left: 35px;
                }
                #exportButtonn {
            
            position: absolute;
            margin-top: 8px;
            border: none;
            border-radius: 5px;
            background: rgb(173, 34, 34);
            color: white;
            padding-left: 20px;
            padding-right: 20px;
            height: 42px;
            padding-top: 7px;
            padding-bottom: 7px;
            font-size: 19px;
            margin-left: 165px;
            }
            
            </style>
    <!-- Style ve Script ile Seçme ve Renklendirme yapılıyor-->
    <style>
            .container {
    width: 1024px;
    padding: 2em;
    }

    .bold-blue {
    color: #ffffff;
    background: rgb(153, 169, 194);
    }
    </style>
    <script>
            //exporte les données sélectionnées
        var $table = $('#table');
        $(function () {
            $('#toolbar').find('select').change(function () {
                $table.bootstrapTable('refreshOptions', {
                    exportDataType: $(this).val()
                });
            });
        })

        var trBoldBlue = $("table");

        $(trBoldBlue).on("click", "tr", function (){
        $(this).toggleClass("bold-blue");
        });
    </script>
                    
    <!--script>
    const sdf=document.querySelector("#sdf");
    const ad=document.querySelector("#ad");
    const soyad=document.querySelector("#soyad");
    const yas=document.querySelector("#yas");
    const sayım=document.querySelector("#sayım");
    const transferadet=document.querySelector("#transferadet");
    const sn=document.querySelector("#sn");
    const drm=document.querySelector("#drm");
    const açıklama=document.querySelector("#açıklama");
    const ekle=document.querySelector("#ekle");//tıklama olayı eklenecek
    const table=document.querySelector("#table");
    
    ekle.onclick=function(){
        //butona tıklanınca çalıştırılacak
        
        //td elementlerini oluşturuyoruz
        let t=document.createElement("td");
        let tAd=document.createElement("td");
        let tSoyad=document.createElement("td");
        let tYas=document.createElement("td");
        let tSayım=document.createElement("td");
        let ttransferadet=document.createElement("td");
        let tsn=document.createElement("td");
        let tdrm=document.createElement("td");
        let tAçıklama=document.createElement("td");
    
        tAd.textContent=ad.value;//textboxtan değeri okuyup aktarıyoruz.
        tSoyad.textContent=soyad.value;//textboxtan değeri okuyup aktarıyoruz.
        tYas.textContent=yas.value;//textboxtan değeri okuyup aktarıyoruz.
        tYas.textContent=yas.value;//textboxtan değeri okuyup aktarıyoruz.
        tSayım.textContent=sayım.value;
        tAçıklama.textContent=açıklama.value;


        //tr elementi oluşturuyoruz
        let tr=document.createElement("tr");
    
        //tdleri tr içine ekliyoruz
        tr.appendChild(t);
        tr.appendChild(tAd);
        tr.appendChild(tSoyad);
        tr.appendChild(tYas);
        tr.appendChild(tSayım);
        tr.appendChild(ttransferadet);
        tr.appendChild(tsn);
        tr.appendChild(tdrm);
        tr.appendChild(tAçıklama);
    
        //tr elementini liste (tablo) içine ekliyoruz
        table.appendChild(tr);
    
        //nenelerin için eklemeden sonra temizleyelim
        ad.value="";
        soyad.value="";
        yas.value="";
        sayım.value="";
        transferadet.value="";
        sn.value="";
        drm.value="";
        açıklama.value="";
    
        //temizlemeden sonra ad içine odaklansın
        ad.focus();
    }
    
    </script-->
                
    <!--script>       
    var table = document.getElementById('table');
    var selected = table.getElementsByClassName('selected');
    table.onclick = highlight;
    
    function highlight(e) {
    if (selected[0]) selected[0].className = '';
    e.target.parentNode.className = 'selected';
    }
    
    function fnselect(){
    var element = document.querySelectorAll('.selected');
    if(element[0]!== undefined){ //it must be selected
        alert(element[0].children[0].firstChild.data);
    }
    }
    </script-->
</div>
                                   
    <!--script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script-->
    <!--script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script-->

    <!--style>
        #personel {
        border-collapse: collapse;
        -webkit-box-shadow: 1px 2px 23px 5px rgba(0,0,0,0.29); 
        box-shadow: 1px 2px 23px 5px rgba(0,0,0,0.29);
        width: 100%;
        }
        
        #personel td, #personel th {
        border: 1px solid #ddd;
        padding: 8px;
        }
        
        #personel tr:nth-child(even){background-color: #f2f2f2;}
        
        #personel tr:hover {
        background-color: #e2e2e2;
        color:#fff;
        }
        
        .gd {
        border-collapse: collapse;
        -webkit-box-shadow: 1px 2px 23px 5px rgb(0 0 0 / 29%);
        box-shadow: 1px 2px 23px 5px rgb(0 0 0 / 29%);
        width: 100%;
        border-radius: 10px;
        }
    </style-->
                    
    <!--link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet"-->
    <!-- Önemli Bootstrap tablosu bozuluyor-->
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
    <script>
        $(function() {
            $('#table').bootstrapTable()
        })
    </script>
        
    <!-- Önemli Bootstrap tablosu Flitre bozuluyor-->
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
        
    <!--script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script-->
    <!--script>window.sr = new ScrollReveal()

    sr.reveal('.box', {
        interval: 200,
        scale: 0.85,
        opacity: 0,
    });
    sr.reveal('', {
        delay: 1000,
        distance:600
    })
    </script-->
</div>
</div>
</body>
</html>
      