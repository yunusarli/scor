<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script>
  <script src="https://use.fontawesome.com/8e2a5cc178.js"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet">
  <!--<link rel="stylesheet" type="text/css" href="extensions/filter-control/bootstrap-table-filter-control.css">
  <script src="extensions/filter-control/bootstrap-table-filter-control.js"></script>-->
<script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.19.1/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
 <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> 
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  <link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet">
  <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
  <title>Envanter Tarihçesi | ScoR</title>
</head>
    <link rel="stylesheet" href="{% static 'css/eht.css' %}">
    <link rel="stylesheet" href="{% static 'css/loader.css' %}">
</head>
<body >
 
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
       <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
   <!-- navbarın arkasında renk tonu degisecek kısım -->
   <div class="bg-blue container-fluid"></div>
   <div class="bg-green container-fluid d-none"></div>
   <div class="bg-yellow container-fluid d-none"></div>
  <!-- navbar baslangıc-->
  {% include 'base.html' %}
 <!-- navbar bitis-->
      <div class="row p-row">
        <div class="box ml-auto mt-2">
            <div class="row">
              <div class="row">
  
            
              
                </div>
            <div class="all-choose ml-auto ">
                <div class="row">
             <div class="choose  mt-1">
          
             </div>
                <div class="all ml-auto mr-2 mt-1">
                    <div class="row" style="flex-direction: row; flex-wrap: nowrap;">
                <form action="" method="post">
                  {% csrf_token %}
                  <input style="width: 50%;" class="rapor-work-input ml-3" placeholder="Saha No veya Saha Kodu Giriniz." name="saha_no"><button type="submit" class="rapor-work"><i class="fa-solid fa-sliders"></i> Saha EHT Getir </button>
                </form>
              </div>
              </div>
          </div>
              </div>
            </div>
        </div>
      </div>
      <!--
      <div class="container">
      <div class="row">
          <p class="w mx-auto">RAPORU ÇALIŞTIRIN <img class="s-gif" src="https://thumbs.gfycat.com/BountifulPalatableHerring-max-1mb.gif" style="width: 90px; margin-top:-35px;position: absolute; opacity: 0.2;"></p>
      </div>
      </div>-->
 
<div class="row">
  <div class="container-fluid fh">
    <div class="container-fluid">
      <div class="row">
        <a href="#"> <button  class="t2 table_button">ETH Raporu</button></a> <i class="fa-solid fa-angle-right mt-2 mx-2"></i><a href="#"> <button  class="t1 tab">Scor Raporu</button></a>
      </div>
    </div>
    <!--
    <button id="exportButton"><img src="https://cdn.iconscout.com/icon/free/png-256/microsoft-excel-2081997-1756310.png" style="width: 30px;"> excel</button>
    <button id="exportButtonn" class="btn btn-lg btn-danger clearfix"><span class="fa fa-file-pdf-o"></span> Export to PDF</button>
    -->
    <table class="tab_table" style="display: none;">
      <thead>
        <tr>
          <th>Ref-1</th>
          <th>Ref-2</th>
          <th>Ref-3</th>
          <th>Ref-4</th>
          <th>Ref-5</th>
          <th>Ref-5</th>
          <th>Ref-6</th>
          <th>Ref-Grup</th>
          <th>Ref-Sonuc</th>
          <th>Ref-Kategori</th>
          <th>Ref-Sorgu No</th>
          <th>Ref-Açıklama</th>
        </tr>
      </thead>
      <tbody>
        {% for scor in scor_listesi %}
         <tr>
           <td>{{ scor.ref_1 }}</td>
           <td>{{ scor.ref_2 }}</td>
           <td>{{ scor.ref_3 }}</td>
           <td>{{ scor.ref_4 }}</td>
           <td>{{ scor.ref_5 }}</td>
           <td>{{ scor.ref_6 }}</td>
           <td>{{ scor.ref_grup }}</td>
           <td>{{ scor.sonuc }}</td>
           <td>{{ scor.kategori }}</td>
           <td>{{ scor.sorgu_no }}</td>
           <td>{{scor.aciklama}}</td>
         </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="row mt-4">
  <div class="col mx-auto">
  
    <div class="tab-content mx-auto" id="myTabContent">
  
      <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <div class="col-md-12">
    
                <input type="hidden" value="{{rapor_id}}" id="rapor_id_hidden">
    
  
                <div class="container-fluid">
                  <div class="col mx-auto">
                  <div class="row">
          
           <div class="alert alert-info message">

           </div>
          <div class="sag col ml-auto table_for_sayim">
            <div class="row">
              <div class="ml-auto  mx-1">
                
                   
              </div>
                    <button class="btn-update mx-3 btn-outline-dark mr-4" id="sonuc_rapor_olustur" type="submit"><img src="https://cdn.discordapp.com/attachments/880812531302666320/961754255797137492/kindpng_3918785.png" style="width: 41px;margin-left:-63px;margin-top:-10px; position: absolute;"> Scor Çalıştır</button>
                  
                  </div>
                  </div>
                  </div>
                  </div>
                </div>
       
                <div class="gd mt-4 table_for_sayim">
            
                  <table
                  id="table"
                  data-toolbar="#toolbar"
                  data-show-refresh="true"
                  data-show-toggle="true"
                  data-show-fullscreen="true"
                  data-show-columns="true"
                  data-show-columns-toggle-all="true"
                  data-detail-view="true"
                  data-show-export="true"
                  data-click-to-select="true"
                  data-detail-formatter="detailFormatter"
                  data-minimum-count-columns="2"
                  data-url="https://examples.wenzhixin.net.cn/examples/bootstrap_table/data"
                  data-show-pagination-switch="true"
                  data-pagination="true"
                  data-id-field="id"
                  data-page-list="[10, 25, 50, 100, all]"
                  data-show-footer="true"
                  data-filter-control="true"    
                  data-response-handler="responseHandler">
                  
                 <input type="hidden" id="saha_no_hidden" value="{{saha_no}}">
                    <thead>
                      
                      <tr>
                        <th data-field="sec" data-filter-control="input">Sec</th>
                        <th data-field="sahaid" data-filter-control="input">SahaID</th>
                        <th data-field="seri" data-filter-control="input">SeriNo</th>
                        <th data-field="name" data-filter-control="input">ParçaKodu</th>
                        <th data-field="price" data-filter-control="input">ParçaTanımı</th>
                        <th data-field="saha" data-filter-control="input">Miktar</th>
                        <th data-field="sahaa" data-filter-control="input">Birim</th>
                        <th data-field="kynk" data-filter-control="input">KaynakYeri</th>
                        <th data-field="klnc" data-filter-control="input">Kullanıcı</th>
                        <th data-field="it" data-filter-control="input">İşlem Tarih</th>
                        <th data-field="ie" data-filter-control="input">İE No</th>
                      </tr>
                      <tr>
                    </thead>
                    <tbody>
                         <!-- parca kodu özellikleri popup -->
<div class="modal fade" id="parca" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Parça Kodu</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       <div class="row mx-3">
        özellik 1
       </div>
       <div class="row mx-3">
        özellik 2
      </div>
      <div class="row mx-3">
        özellik 3  
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>

      </div>
    </div>
  </div>
</div>
                    {% for eht in ehts %}
                    <tr>          
                        <td class="th select_eht" style="cursor: pointer;">sec</td>   
                        <th class="th">{{eht.hedef_lokasyon}}</th>          
                        <th class="th">{{eht.seri}}</th>          
                        <td class="th"><a data-toggle="modal" data-target="#parca" class="ink" href="">{{eht.parca_kodu}}</a></td>  
                        <th class="th">{{eht.parca_tanimi}}</th>          
                        <td class="th"> {{eht.islem_miktari}} </td>     
                        <th class="th"> {{eht.olcum_birimi}} </th>    
                        <td class="th"> {{eht.kaynak_yeri}} </td>     
                        <th class="th"> {{eht.kullanici_adi}} </th>          
                        <td class="th"> {{eht.islem_tarihi}} </td>          
                        <td class="th"> {{eht.referans}} </td>          
                    </tr>
                    {% endfor %}
                </tbody>
           
          
              </table>
              <link rel="stylesheet" type="text/css" href="http://www.shieldui.com/shared/components/latest/css/light/all.min.css" />
<script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"></script>
<script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/jszip.min.js"></script>
   <!-- pdf buton -->
   <script type="text/javascript">
    jQuery(function ($) {
        $("#exportButtonn").click(function () {
            // parse the HTML table element having an id=exportTable
            var dataSource = shield.DataSource.create({
                data: "#table",
                schema: {
                    type: "table",
                    fields: {
                        Sec: { type: String },
ParçaKodu: { type: String },
ParçaTanımı: { type: String },
Miktar: { type: String },
Birim: { type: String },
KaynakYeri: { type: String },
Kullanıcı: { type: String },
İşlemTarih: { type: String },
İeNo: { type: String }
                    }
                }
            });

            // when parsing is done, export the data to PDF
            dataSource.read().then(function (data) {
                var pdf = new shield.exp.PDFDocument({
                    author: "PrepBootstrap",
                    created: new Date()
                });

                pdf.addPage("a4", "portrait");

                pdf.table(
                    50,
                    50,
                    data,
                    [
                        { field: "Sec", title: "Sec", width: 50 },
{ field: "ParçaKodu", title: "Parca Kodu", width: 75 },
{ field: "ParçaTanımı", title: "Parca Tanimi", width: 120 },
{ field: "Miktar", title: "Miktar", width: 75 },
{ field: "Birim", title: "Birim", width: 75 },
{ field: "KaynakYeri", title: "Kaynak Yeri", width: 75 },
{ field: "Kullanıcı", title: "Kullanici", width: 75 },
{ field: "İşlemTarih", title: "İslem Tarih", width: 75 },
{ field: "İeNo", title: "İe No", width: 75 }
                    ],
                    {
                        margins: {
                            top: 50,
                            left: 50
                        }
                    }
                );

                pdf.saveAs({
                    fileName: "PrepBootstrapPDF"
                });
            });
        });
    });
</script>


  <!-- gerekli scriptler -->
<link rel="stylesheet" type="text/css" href="http://www.shieldui.com/shared/components/latest/css/light/all.min.css" />
<script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"></script>
<script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/jszip.min.js"></script>



<!-- excel buton -->
<script type="text/javascript">
jQuery(function ($) {
$("#exportButton").click(function () {
// parse the HTML table element having an id=exportTable
var dataSource = shield.DataSource.create({
  data: "#table",
  schema: {
      type: "table",
      fields: {
     Sec: { type: String },
ParçaKodu: { type: String },
     ParçaTanımı: { type: String },
Miktar: { type: String },
Birim: { type: String },
KaynakYeri: { type: String },
Kullanıcı: { type: String },
İşlemTarih: { type: String },
İeNo: { type: String }
      }
  }
});

// when parsing is done, export the data to Excel
dataSource.read().then(function (data) {
  new shield.exp.OOXMLWorkbook({
      author: "PrepBootstrap",
      worksheets: [
          {
              name: "PrepBootstrap Table",
              rows: [
                  {
                      cells: [
                          {
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "Sec"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "Parça Kodu"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "Parça Tanımı"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "Miktar"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "Birim"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "Kaynak Yeri"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "Kullanıcı"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "İşlem Tarih"
                          },
{
                              style: {
                                  bold: true
                              },
                              type: String,
                              value: "İe No"
                          }
                       
                      ]
                  }
              ].concat($.map(data, function(item) {
                  return {
                      cells: [
                          { type: String, value: item.Sec },
                          { type: String, value: item.ParçaKodu },
                          { type: String, value: item.ParçaTanımı },
                          { type: String, value: item.Miktar },
                          { type: String, value: item.Birim },
                          { type: String, value: item.KaynakYeri },
                          { type: String, value: item.Kullanıcı },
                          { type: String, value: item.İşlemTarih },
                          { type: String, value: item.İeNo }
                      ]
                  };
              }))
          }
      ]
  }).saveAs({
      fileName: "PrepBootstrapExcel"
  });
});
});
});
</script>
<!-- excel pdf buton cssleri -->
<style>
  #exportButton {

      position: absolute;
      margin-top: 8px;
      border: none;
      margin-left: 18px;
      border-radius: 5px;
      background: rgb(53, 190, 34);
      color: white;
      padding-left: 20px;
      padding-right: 20px;
      z-index: 9;
      height: 42px;
      padding-top: 7px;
      padding-bottom: 7px;
      font-size: 19px;
  }
  #exportButtonn {

position: absolute;
margin-top: 8px;
border: none;
border-radius: 5px;
background: rgb(173, 34, 34);
color: white;
padding-left: 20px;
padding-right: 20px;
height: 42px;
z-index: 9;
padding-top: 7px;
padding-bottom: 7px;
font-size: 19px;
margin-left: 147px;
}

</style>
              <style>
                .container {
width: 1024px;
padding: 2em;
}

.bold-blue {
color: #ffffff;
background: rgb(153, 169, 194);
}
              </style>
          <script>
            //exporte les données sélectionnées
var $table = $('#table');
  $(function () {
      $('#toolbar').find('select').change(function () {
          $table.bootstrapTable('refreshOptions', {
              exportDataType: $(this).val()
          });
      });
  })

  var trBoldBlue = $("table");

$(trBoldBlue).on("click", "tr", function (){
    $(this).toggleClass("bold-blue");
});
          </script>
        
              </table>
              <script>
                const sdf=document.querySelector("#sdf");
                const ad=document.querySelector("#ad");
                const soyad=document.querySelector("#soyad");
                const yas=document.querySelector("#yas");
                const sayım=document.querySelector("#sayım");
                const transferadet=document.querySelector("#transferadet");
                const sn=document.querySelector("#sn");
                const drm=document.querySelector("#drm");
                const açıklama=document.querySelector("#açıklama");
                const ekle=document.querySelector("#ekle");//tıklama olayı eklenecek
                const table=document.querySelector("#table");
             
                ekle.onclick=function(){
                  //butona tıklanınca çalıştırılacak
                  
                  //td elementlerini oluşturuyoruz
                  let t=document.createElement("td");
                  let tAd=document.createElement("td");
                  let tSoyad=document.createElement("td");
                  let tYas=document.createElement("td");
                  let tSayım=document.createElement("td");
                  let ttransferadet=document.createElement("td");
                  let tsn=document.createElement("td");
                  let tdrm=document.createElement("td");
                  let tAçıklama=document.createElement("td");
             
                  tAd.textContent=ad.value;//textboxtan değeri okuyup aktarıyoruz.
                  tSoyad.textContent=soyad.value;//textboxtan değeri okuyup aktarıyoruz.
                  tYas.textContent=yas.value;//textboxtan değeri okuyup aktarıyoruz.
             
                  //tr elementi oluşturuyoruz
                  let tr=document.createElement("tr");
             
                  //tdleri tr içine ekliyoruz
                  tr.appendChild(t);
                  tr.appendChild(tAd);
                  tr.appendChild(tSoyad);
                  tr.appendChild(tYas);
                  tr.appendChild(tSayım);
                  tr.appendChild(ttransferadet);
                  tr.appendChild(tsn);
                  tr.appendChild(tdrm);
                  tr.appendChild(tAçıklama);
             
                  //tr elementini liste (tablo) içine ekliyoruz
                  table.appendChild(tr);
             
                  //nenelerin için eklemeden sonra temizleyelim
                  ad.value="";
                  soyad.value="";
                  yas.value="";
                  sayım.value="";
                  transferadet.value="";
                  sn.value="";
                  drm.value="";
                  açıklama.value="";
             
                  //temizlemeden sonra ad içine odaklansın
                  ad.focus();
                }
             
              </script>
              
              <script>

                
                var table = document.getElementById('table');
                var selected = table.getElementsByClassName('selected');
                table.onclick = highlight;
                
                function highlight(e) {
                if (selected[0]) selected[0].className = '';
                e.target.parentNode.className = 'selected';
                }
                
                function fnselect(){
                var element = document.querySelectorAll('.selected');
                if(element[0]!== undefined){ //it must be selected
                 alert(element[0].children[0].firstChild.data);
                }
                }
                </script>
             </div>

                           
             <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
             <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
         
            <style>
              #personel {
              border-collapse: collapse;
              -webkit-box-shadow: 1px 2px 23px 5px rgba(0,0,0,0.29); 
box-shadow: 1px 2px 23px 5px rgba(0,0,0,0.29);
              width: 100%;
              }
               
              #personel td, #personel th {
              border: 1px solid #ddd;
              padding: 8px;
              }
               
              #personel tr:nth-child(even){background-color: #f2f2f2;}
               
              #personel tr:hover {
              background-color: #e2e2e2;
              color:#fff;
              }
               
              .gd {
                border-collapse: collapse;
  -webkit-box-shadow: 1px 2px 23px 5px rgb(0 0 0 / 29%);
  box-shadow: 1px 2px 23px 5px rgb(0 0 0 / 29%);
  width: 100%;
  border-radius: 10px;
              }
              </style>
             
             
             <link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet">
             <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
             <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
             

             
       
             <script>
               $(function() {
                 $('#table').bootstrapTable()
               })
             </script>



</body>

<script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
<script>window.sr = new ScrollReveal()

sr.reveal('.box', {
  interval: 200,
  scale: 0.85,
  opacity: 0,
});
sr.reveal('', {
  delay: 1000,
  distance:600
})</script>

<script src="{% static 'js/eht_scor.js' %}"></script>
<script src="{% static 'js/tab.js' %}"></script>
<script src="{% static 'js/select.js' %}"></script>
</html>
